<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<script>
    $(() => {
        $.ajax({
            type: 'POST',
            url: '/admin/stats',
            success: function(result) {
                // Sales
                const xValues = [50,60,70,80,90,100,110,120,130,140,150];
                const yValues = [7,8,8,9,9,9,10,11,14,14,15];

                new Chart("chart-sales", {
                    type: "line",
                    data: {
                        labels: xValues,
                        datasets: [{
                            label: "Test",
                            backgroundColor: "cyan",
                            borderColor: "cyan",
                            fill: false,
                            data: yValues
                        }]
                    },
                    options: {
                        legend: {
                            labels: {
                                fontSize: 15
                            }
                        }
                    }
                });

                // Revenue
                new Chart("chart-revenue", {
                    type: "line",
                    data: {
                        labels: xValues,
                        datasets: [{
                            label: "Test",
                            backgroundColor: "lime",
                            borderColor: "lime",
                            fill: false,
                            data: yValues
                        }]
                    },
                    options: {
                        legend: {
                            labels: {
                                fontSize: 15
                            }
                        }
                    }
                });

                // Best Seller
                const bestSeller = result.bestSeller;
                const bs_name = bestSeller.map(e => e.name);
                const bs_sold = bestSeller.map(e => e.sold);
                const bs_colors = ["red", "green", "blue", "orange", "brown"];

                new Chart("chart-products", {
                    type: "pie",
                    data: {
                        labels: bs_name,
                        datasets: [{
                            backgroundColor: bs_colors,
                            data: bs_sold
                        }]
                    },
                    options: {
                        legend: {
                            labels: {
                                fontSize: 15
                            }
                        }
                    }
                });
            },
            error: function(result) {
                console.log(result);
            }
        });
    });
</script>